# GC - Области кучи в C#

## Теория

### Что такое области кучи?
- Управляемая куча разделена на области для оптимизации работы GC
- Каждая область имеет свой размер и назначение
- Области помогают минимизировать фрагментацию памяти

### Основные области кучи
1. **Small Object Heap (SOH)**
   - Для объектов размером < 85 000 байт
   - Разделена на поколения (0, 1, 2)
   - Поддерживает дефрагментацию

2. **Large Object Heap (LOH)**
   - Для объектов размером >= 85 000 байт
   - Не дефрагментируется автоматически
   - Сборка происходит реже

3. **Pinned Object Heap (POH)**
   - Для закрепленных объектов
   - Объекты не перемещаются GC
   - Используется для взаимодействия с неуправляемым кодом

### Особенности работы с областями
- Объекты не могут перемещаться между SOH и LOH
- LOH не дефрагментируется для оптимизации производительности
- POH используется для объектов, которые должны оставаться на месте

### Методы для работы с областями
- `GCSettings.LargeObjectHeapCompactionMode` - настройка дефрагментации LOH
- `GC.GetGCMemoryInfo()` - получение информации о памяти
- `GC.GetTotalMemory()` - общий объем используемой памяти

## Примеры кода

В папке `Examples` вы найдете примеры работы с различными областями кучи.

## Практические задания

1. Создайте объекты разных размеров и определите их расположение
2. Продемонстрируйте работу с LOH
3. Измерьте использование памяти в разных областях
4. Создайте и освободите закрепленные объекты

## Тесты

В папке `Tests` находятся тесты для проверки ваших знаний. 