# Гарантии доставки в брокерах сообщений

## Теория

### Уровни гарантий доставки
- At most once (максимум один раз)
- At least once (минимум один раз)
- Exactly once (ровно один раз)

### Механизмы обеспечения гарантий
- Подтверждения (Acknowledgments)
- Транзакции
- Идемпотентность
- Дублирование сообщений
- Очереди недоставленных сообщений (Dead Letter Queues)

### Реализация в различных брокерах
- RabbitMQ
  - Publisher Confirms
  - Consumer Acknowledgments
  - Транзакции
  - Dead Letter Exchanges
- Kafka
  - Producer Acknowledgments
  - Consumer Offsets
  - Идемпотентный Producer
  - Транзакции
- Azure Service Bus
  - Peek-Lock
  - Complete/Abandon/Deadletter
  - Транзакции
  - Очереди недоставленных сообщений

### Стратегии обработки ошибок
- Повторные попытки
- Обработка дубликатов
- Компенсирующие транзакции
- Логирование и мониторинг
- Алерты

## Примеры кода
Примеры кода находятся в папке `Examples`:
- Реализация гарантий доставки в RabbitMQ
- Обработка дубликатов в Kafka
- Транзакции в Azure Service Bus
- Обработка ошибок и повторные попытки
- Мониторинг доставки

## Практические задания
1. Реализовать систему с гарантией "Exactly Once"
   - Настроить идемпотентность
   - Реализовать обработку дубликатов
   - Добавить мониторинг

2. Создать систему с обработкой ошибок
   - Настроить Dead Letter Queue
   - Реализовать повторные попытки
   - Добавить логирование

3. Разработать систему с транзакциями
   - Реализовать распределенные транзакции
   - Добавить компенсирующие операции
   - Настроить откат изменений

4. Создать систему мониторинга доставки
   - Реализовать сбор метрик
   - Добавить алерты
   - Создать дашборд

5. Реализовать систему с разными уровнями гарантий
   - Настроить разные уровни для разных типов сообщений
   - Реализовать приоритизацию
   - Добавить обработку ошибок

## Тесты
Тесты для проверки знаний находятся в папке `Tests` 